{"version":3,"file":"index.es.js","sources":["../src/components/YoungTable.tsx","../src/components/YoungPagination.tsx","../src/components/YoungDialog.tsx","../src/components/YoungSelect.tsx","../src/hooks/useAutoLoad.ts","../src/hooks/useFormMode.ts"],"sourcesContent":["/*\n * @Author: zhangyang\n * @Date: 2023-01-05 17:08:17\n * @LastEditTime: 2023-01-06 11:54:28\n * @Description: \n */\nimport { nextTick, onActivated, ref, watchEffect, defineComponent } from 'vue';\nimport type { PropType, VNode } from 'vue';\nimport { deepClone } from '@bluesyoung/utils';\nimport { ElTable, ElTableColumn, ElTooltip } from 'element-plus';\nimport { useAutoLoad } from '..';\n\nexport type TableHeadAligin = 'left' | 'center' | 'right' | undefined;\n\nexport interface TableHeadItem<T extends any = any> {\n  prop: keyof T;\n  label: string;\n  width?: string;\n  sortable?: boolean;\n  fixed?: boolean;\n  aligin?: TableHeadAligin;\n  tool_content?: string;\n  only_export?: boolean;\n  only_display?: boolean;\n  render?: (row: T) => VNode;\n  [x: string]: any;\n};\n\nexport type TableDataItem<T extends any = any> = {\n  [key in keyof T]: T[key];\n} & Record<string, any>;\n\n\nexport default defineComponent({\n  props: {\n    tableData: {\n      type: Object as PropType<TableDataItem[]>,\n      required: true\n    },\n    tableHead: {\n      type: Object as PropType<TableDataItem[]>,\n      required: true\n    },\n    tableHeight: {\n      type: Number,\n      default: 600\n    }\n  },\n  emits: ['sort-change'],\n  setup(props, { emit, attrs, slots }) {\n    /**\n     * 引用表格元素\n     */\n    const tableRef = ref<any>(null);\n    // 修复表格切换时，显示出现错位的 bug\n    onActivated(() => {\n      nextTick(() => {\n        tableRef.value.doLayout();\n      });\n    });\n\n    const tableData_1 = ref<TableDataItem[]>([]);\n    const tableHead_1 = ref<TableHeadItem[]>([]);\n\n    watchEffect(() => {\n      const t1 = props.tableData;\n      const t2 = props.tableHead;\n      const len = t1.length;\n\n      nextTick(() => {\n        // @ts-ignore\n        tableHead_1.value = t2.filter((item) => !item.only_export);\n\n        const step = 50;\n        if (len <= step) {\n          tableData_1.value = deepClone(t1);\n        } else {\n          const {\n            elArr,\n            load\n          } = useAutoLoad(tableData_1, ref(t1), step);\n\n          let n = 0;\n          tableData_1.value = t1.slice(n, step);\n\n          nextTick(() => {\n            elArr.value = tableRef.value.$el.querySelector('tbody').children;\n            load();\n          });\n        }\n      });\n    });\n\n    return () => (\n      // @ts-ignore\n      <ElTable {...attrs} ref={tableRef} data={tableData_1.value} style=\"width: 100%\" height={props.tableHeight} onSortChange={(e) => emit('sort-change', e)}>\n        {\n          tableHead_1.value.map((head, index) =>\n            <ElTableColumn\n              key={index}\n              prop={head.prop as string}\n              label={head.label}\n              width={head.width || ''}\n              sortable={head.sortable || false}\n              fixed={head.fixed || false}\n              align={head.aligin || 'left'}\n              v-slots={{\n                header: (scope) => {\n                  if (tableHead_1.value[scope.$index].tool_content) {\n                    return (\n                      <>\n                        <span>{scope.column.label}</span>\n                        <ElTooltip placement='bottom' v-slots={{ content: () => tableHead_1.value[scope.$index].tool_content }}\n                        />\n                      </>);\n                  } else {\n                    return <span>{scope.column.label}</span>;\n                  }\n                },\n                default: (scope) => {\n                  if (head.render) {\n                    return head.render(scope.row);\n                  } else {\n                    return <span>{scope.row[head.prop]}</span>\n                  }\n                }\n              }}\n            />\n          )\n        }\n        {\n          slots.switch?.()\n        }\n        {\n          slots.operate?.()\n        }\n      </ElTable>\n    )\n  }\n});","/*\n * @Author: zhangyang\n * @Date: 2023-01-05 17:51:59\n * @LastEditTime: 2023-01-06 12:03:47\n * @Description: \n */\nimport { ElPagination } from 'element-plus';\nimport { defineComponent, type PropType } from 'vue';\n\nconst RequiredNumber = {\n  type: Number,\n  required: true\n} as const;\n\nexport default defineComponent({\n  props: {\n    total: RequiredNumber,\n    page: RequiredNumber,\n    limit: RequiredNumber,\n    pageSizes: {\n      type: Object as PropType<number[]>,\n      default: () => ([10, 20, 30, 50])\n    },\n    layout: {\n      type: String,\n      default: 'total, sizes, prev, pager, next, jumper'\n    },\n    background: {\n      type: Boolean,\n      default: true\n    },\n    autoScroll: {\n      type: Boolean,\n      default: true\n    },\n    hidden: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['page-change', 'update:page', 'update:limit'],\n  setup(props, { emit, attrs }) {\n    const sizeChange = (val: number) => {\n      emit('update:page', 1);\n      emit('update:limit', val);\n      emit('page-change');\n    };\n    const pageChange = (val: number) => {\n      emit('update:page', val);\n      emit('page-change');\n    };\n\n    return () => (\n      <div style=\"background: white; padding-top: 20px;\">\n        <ElPagination\n          {...attrs}\n          background={props.background}\n          currentPage={props.page}\n          pageSize={props.limit}\n          layout={props.layout}\n          pageSizes={props.pageSizes}\n          total={props.total}\n          onUpdate:page-size={(v) => sizeChange(v)}\n          onUpdate:current-page={(v) => pageChange(v)}\n        />\n      </div>\n    );\n  }\n});","/*\n * @Author: zhangyang\n * @Date: 2023-01-05 18:03:54\n * @LastEditTime: 2023-01-05 18:09:45\n * @Description: \n */\nimport { ElButton, ElDialog, ElMessageBox } from 'element-plus';\nimport { Teleport, computed, defineComponent } from 'vue';\n\nexport default defineComponent({\n  props: {\n    modelValue: Boolean,\n    realTitle: String,\n    sureText: {\n      type: String,\n      default: '确定'\n    },\n    cancelText: {\n      type: String,\n      default: '取消'\n    },\n    showSure: {\n      type: Boolean,\n      default: true\n    },\n    showCancel: {\n      type: Boolean,\n      default: true\n    },\n    isAdd: Boolean,\n    isEdit: Boolean,\n    isMore: Boolean,\n    sureFn: Function\n  },\n  emits: ['sure', 'clear', 'update:modelValue'],\n  setup(props, { emit, attrs, slots }) {\n    const title = computed(() => {\n      let str = '新建';\n      if (props.isEdit) {\n        str = '编辑';\n      }\n      if (props.isMore) {\n        str = '详情';\n      }\n      return str;\n    });\n\n    const showDialog = computed({\n      get: () => props.isAdd || props.isMore || props.isEdit,\n      set: (v) => null\n    });\n\n    const sure = async () => {\n      if (props.sureFn) {\n        const res = await props.sureFn();\n        if (res === false) {\n          return;\n        }\n      }\n      if (props.isMore) {\n        emit('clear');\n        return;\n      }\n      emit('update:modelValue', false);\n      emit('sure');\n    };\n\n    const beforeClose = () => {\n      if (props.isMore || !props.showCancel) {\n        emit('clear');\n        emit('update:modelValue', false);\n        return;\n      }\n      ElMessageBox.confirm('数据未保存，关闭将丢失数据，确认关闭？', '提示').then(() => {\n        emit('update:modelValue', false);\n        emit('clear');\n      }).catch(() => null);\n    };\n\n    return () => (\n      <Teleport to=\"body\">\n        <ElDialog\n          {...attrs}\n          modelValue={props.modelValue || showDialog.value}\n          title={props.realTitle || title.value}\n          closeOnClickModal={false}\n          closeOnPressEscape={false}\n          beforeClose={beforeClose}\n          v-slots={{\n            default: () => slots.body?.(),\n            footer: () => {\n              return (\n                <>\n                  {\n                    slots.button?.()\n                  }\n                  {\n                    props.showCancel && <ElButton onClick={() => beforeClose()}>{props.cancelText}</ElButton>\n                  }\n                  {\n                    slots.step1?.()\n                  }\n                  {\n                    slots.step2?.()\n                  }\n                  {\n                    props.showSure && <ElButton type='primary' onClick={() => sure()}>{props.sureText}</ElButton>\n                  }\n                </>\n              )\n            }\n          }}\n        />\n      </Teleport>\n    );\n  }\n});","/*\n * @Author: zhangyang\n * @Date: 2023-01-09 09:41:37\n * @LastEditTime: 2023-01-09 09:56:38\n * @Description: \n */\nimport { defineComponent } from 'vue';\nimport type { PropType } from 'vue';\nimport { ElSelect, ElOption } from 'element-plus';\nimport { randomId } from '@bluesyoung/utils';\n\nexport type SelectOptionItem<T extends any = any> = {\n  label: string;\n  value: T;\n  children?: SelectOptionItem<T>[];\n};\n\nexport default defineComponent({\n  props: {\n    options: {\n      type: Object as PropType<SelectOptionItem[]>,\n      required: true\n    },\n  },\n  setup(props, { attrs }) {\n    const randomSeed = randomId();\n    return () => (\n      <ElSelect {...attrs}>\n        {\n          props.options.map((op, index) => <ElOption {...op} key={index + randomSeed} />)\n        }\n      </ElSelect>\n    )\n  }\n});","/*\n * @Author: zhangyang\n * @Date: 2023-01-05 10:47:55\n * @LastEditTime: 2023-01-05 11:09:17\n * @Description:\n */\nimport type { Ref } from 'vue';\nimport { ref, watchEffect, nextTick } from 'vue';\nimport { useIntersectionObserver } from '@vueuse/core';\nexport const useAutoLoad = <T>(\n  list: Ref<T[]>,\n  allData: Ref<T[]>,\n  pageSize = 10,\n  pause = ref(false),\n) => {\n  const elArr = ref<HTMLDivElement[]>([]);\n  const touchEndEl = ref(false);\n  const page = ref(1);\n\n  const load = () => {\n    const { stop } = useIntersectionObserver(\n      elArr.value[list.value.length - 1],\n      ([{ isIntersecting }]) => {\n        if (isIntersecting) {\n          touchEndEl.value = isIntersecting;\n          stop();\n        }\n      },\n    );\n  };\n\n  watchEffect(async () => {\n    if (pause.value) {\n      return;\n    }\n\n    if (touchEndEl.value) {\n      if (list.value.length === allData.value.length) {\n        return;\n      }\n      page.value++;\n      const slicePart = allData.value.slice(pageSize * (page.value - 1), pageSize * page.value);\n      if (slicePart.length === 0) {\n        return;\n      }\n      list.value.push(...slicePart);\n      touchEndEl.value = false;\n      await nextTick();\n      load();\n    }\n  });\n\n  return {\n    elArr,\n    touchEndEl,\n    page,\n    load,\n  };\n};\n","/*\n * @Author: zhangyang\n * @Date: 2023-01-05 17:10:41\n * @LastEditTime: 2023-01-05 18:57:15\n * @Description:\n */\nimport { deepClone } from '@bluesyoung/utils';\nimport { ElMessageBox } from 'element-plus';\nimport { ref } from 'vue';\n\ntype Cbk<T> = {\n  addCbk?: () => Promise<void | boolean>;\n  modCbk?: () => Promise<void | boolean>;\n  delCbk?: (row: T) => void;\n  cpEffect?: (row: T) => void;\n  cgEffect?: () => void;\n  disableclear?: boolean;\n};\ntype ValidFn = () => Promise<boolean>;\n\nexport const useFormMode = <T>(\n  FORM_TEMP: T,\n  { addCbk, modCbk, delCbk, cpEffect, cgEffect, disableclear }: Cbk<T>,\n  tip = '确认删除该条数据？',\n) => {\n  const isAdd = ref(false);\n  const isEdit = ref(false);\n  const isMore = ref(false);\n\n  const form = ref<T>(deepClone(FORM_TEMP));\n  const formRef = ref();\n  const validForm: ValidFn = async () => {\n    const res = await new Promise((resolve) => {\n      formRef.value\n        ?.validate(async (valid) => {\n          if (valid) {\n            resolve(true);\n          }\n        })\n        .catch((err) => {\n          resolve(false);\n        });\n    });\n    return res as boolean;\n  };\n  const clear = () => {\n    isAdd.value = false;\n    isEdit.value = false;\n    isMore.value = false;\n    // @ts-ignore\n    form.value = deepClone(FORM_TEMP);\n  };\n\n  const del = (row: any) => {\n    ElMessageBox.confirm(tip, '提示', {\n      type: 'warning',\n    })\n      .then(async () => {\n        await delCbk?.(row);\n        cgEffect?.();\n      })\n      .catch(() => null);\n  };\n\n  const sure = async () => {\n    if (isAdd.value) {\n      const res = await addCbk?.();\n      if (res === false) {\n        return;\n      }\n    } else {\n      const res = await modCbk?.();\n      if (res === false) {\n        return;\n      }\n    }\n    !disableclear && clear();\n    cgEffect?.();\n  };\n\n  const edit = (row: any) => {\n    cpEffect?.(row);\n    form.value = deepClone(row);\n    isEdit.value = true;\n  };\n  const more = (row: any) => {\n    cpEffect?.(row);\n    form.value = deepClone(row);\n    isMore.value = true;\n  };\n  return {\n    isAdd,\n    isEdit,\n    isMore,\n    clear,\n    edit,\n    more,\n    form,\n    del,\n    sure,\n    formRef,\n    validForm,\n  };\n};\n"],"names":["YoungTable","defineComponent","props","tableData","type","Object","required","tableHead","tableHeight","Number","default","emits","setup","emit","attrs","slots","tableRef","ref","onActivated","nextTick","value","doLayout","tableData_1","tableHead_1","watchEffect","t1","t2","len","length","filter","item","only_export","step","deepClone","elArr","load","useAutoLoad","n","slice","$el","querySelector","children","_createVNode","ElTable","_mergeProps","e","map","head","index","ElTableColumn","prop","label","width","sortable","fixed","aligin","header","scope","$index","tool_content","_Fragment","column","ElTooltip","content","render","row","switch","operate","RequiredNumber","YoungPagination","total","page","limit","pageSizes","layout","String","background","Boolean","autoScroll","hidden","sizeChange","val","pageChange","ElPagination","v","YoungDialog","modelValue","realTitle","sureText","cancelText","showSure","showCancel","isAdd","isEdit","isMore","sureFn","Function","title","computed","str","showDialog","get","set","sure","beforeClose","ElMessageBox","confirm","then","catch","Teleport","ElDialog","body","footer","button","ElButton","step1","step2","_isSlot","s","_isVNode","YoungSelect","options","randomSeed","randomId","_slot","ElSelect","op","list","allData","pageSize","pause","touchEndEl","stop","useIntersectionObserver","isIntersecting","slicePart","useFormMode","FORM_TEMP","addCbk","modCbk","delCbk","cpEffect","cgEffect","disableclear","tip","form","formRef","validForm","resolve","_a","valid","err","clear"],"mappings":"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"}