"use strict";const i={state:"young_wechat_auth",redirect:location.href};class r{constructor(e){e=Object.assign(i,e),this.auth_url=`https://open.weixin.qq.com/connect/oauth2/authorize?appid=${e.appid}&redirect_uri=${encodeURIComponent(e.redirect)}&response_type=code&scope=snsapi_base&state=${e.state}#wechat_redirect`,/MicroMessenger/img.test(navigator.userAgent)?this.login_url=`https://open.weixin.qq.com/connect/oauth2/authorize?appid=${e.appid}&redirect_uri=${encodeURIComponent(e.redirect)}&response_type=code&scope=snsapi_userinfo&state=${e.state}#wechat_redirect`:this.login_url=`https://open.weixin.qq.com/connect/qrconnect?appid=${e.open_appid}&redirect_uri=${encodeURIComponent(e.redirect)}&response_type=code&scope=snsapi_login&state=${e.state}#wechat_redirect`}getCode(e="base"){const t=new URLSearchParams(location.search),s=t.get("code");if(t.get("state"))return s;e==="base"?location.href=this.auth_url:location.href=this.login_url}}module.exports=r;
//# sourceMappingURL=index.cjs.js.map
