{"version":3,"file":"index.es.js","sources":["../src/components/YoungCmdPopup.tsx","../src/components/YoungTab.tsx","../src/components/YoungContextMenu.tsx"],"sourcesContent":["/*\n * @Author: zhangyang\n * @Date: 2022-12-07 10:40:28\n * @LastEditTime: 2022-12-07 12:22:27\n * @Description: \n */\nimport { defineComponent, ref, onMounted, onUnmounted, nextTick, Teleport } from 'vue';\n\nexport default defineComponent({\n  props: {\n    zIndex: {\n      type: Number,\n      default: 2000\n    }\n  },\n  setup(props, { expose, slots }) {\n    const showPopup = ref(false);\n\n    const show = () => showPopup.value = true;\n    const hide = () => showPopup.value = false;\n\n    const clickHide = (e: MouseEvent) => {\n      if (e.composedPath()[0] === e.currentTarget) {\n        hide();\n      }\n    };\n\n    expose({\n      show,\n      hide\n    });\n\n    const el = ref<HTMLInputElement>();\n\n    const onKeyShow = (e: KeyboardEvent) => {\n      if (e.ctrlKey && e.key.toLocaleLowerCase() === 'k') {\n        e.preventDefault();\n        if (!showPopup.value) {\n          show();\n          nextTick(() => {\n            el.value?.focus();\n          });\n        } else {\n          hide();\n        }\n      }\n    };\n\n    onMounted(() => {\n      window.addEventListener('keydown', onKeyShow);\n    });\n    onUnmounted(() => {\n      window.removeEventListener('keydown', onKeyShow);\n    });\n\n    return () => (\n      <Teleport to=\"body\">\n        <div onClick={(e) => clickHide(e)} style={{\n          display: showPopup.value ? 'block' : 'none',\n          backgroundColor: 'rgba(0, 0, 0, 0.6)',\n          width: '100vw',\n          height: '100vh',\n          position: 'absolute',\n          left: 0,\n          top: 0,\n          zIndex: props.zIndex\n        }}>\n          <div\n            style={{\n              position: 'relative',\n              left: '50%',\n              top: '50%',\n              transform: 'translate(-50%, -50%)',\n              width: 'min(600px, 70%)',\n              maxHeight: 'min(520px, 60%)',\n              overflow: 'auto',\n              borderRadius: '1rem',\n              border: '1px solid rgb(219, 234, 254)',\n              backgroundColor: 'white',\n              padding: '2rem',\n              boxShadow: 'rgba(0, 0, 0, 0) 0 0 0 0, rgba(0, 0, 0, 0) 0 0 0 0, 0 4px 6px -1px rgb(0 0 0/0.1), 0 2px 4px -2px rgb(0 0 0/0.1)'\n            }}\n          >\n            {\n              slots.default\n                ? slots.default({ el })\n                : <input ref={el} type=\"text\" />\n            }\n          </div>\n        </div>\n      </Teleport>\n    )\n  }\n})","/*\n * @Author: zhangyang\n * @Date: 2022-12-26 09:03:46\n * @LastEditTime: 2022-12-26 09:27:58\n * @Description: \n */\nimport { defineComponent, ref } from 'vue';\n\nexport default defineComponent({\n  props: {\n    titleStyle: {\n      type: Object,\n      default: () => ({})\n    },\n    activeStyle: {\n      type: [Object, String],\n      required: true\n    },\n    inactiveStyle: {\n      type: [Object, String],\n      required: true\n    },\n    titles: {\n      type: Array,\n      required: true\n    }\n  },\n  setup(props, { slots }) {\n    const activeIndex = ref(0);\n    return () => (\n      <>\n        <div style={{\n          display: 'flex',\n          width: '100%',\n          justifyContent: 'space-between',\n          ...props.titleStyle\n        }}>\n          {\n            props.titles.map((title, index) =>\n              <div\n                key={index + 'adjhskse'}\n                style={index === activeIndex.value ? props.activeStyle : props.inactiveStyle}\n                onClick={() => activeIndex.value = index}\n              >{title}</div>\n            )\n          }\n        </div>\n        {\n          slots[`index_${activeIndex.value}`]?.()\n        }\n      </>\n    )\n  }\n});","/*\n * @Author: zhangyang\n * @Date: 2023-01-05 15:01:31\n * @LastEditTime: 2023-01-05 15:14:17\n * @Description: \n */\nimport { defineComponent, Teleport, nextTick, ref, watch, type PropType } from 'vue';\nimport { useMouse } from '@vueuse/core';\n\ninterface ContextMenuItem {\n  handlerName: string;\n  title: string;\n};\n\nexport default defineComponent({\n  props: {\n    modelValue: {\n      type: Boolean,\n      required: true\n    },\n    menuList: {\n      type: Object as PropType<ContextMenuItem[]>,\n      required: true\n    }\n  },\n  emits: ['update:modelValue', 'clickItem'],\n  setup(props, { emit }) {\n    const { x, y } = useMouse();\n    const left = ref(0);\n    const top = ref(0);\n    const menu = ref();\n\n    watch(() => props.modelValue, (newVal, oldVal) => {\n      if (newVal && !oldVal) {\n        nextTick(() => {\n          console.log(menu.value)\n          const { width, height } = window.getComputedStyle(menu.value as HTMLElement);\n          const { innerWidth, innerHeight } = window;\n          // 此时鼠标的坐标\n          const tx = x.value;\n          const ty = y.value;\n          // 此时自定义菜单的宽高\n          const rw = parseFloat(width);\n          const rh = parseFloat(height);\n          // 处理边界值\n          left.value = innerWidth - tx > rw ? tx : innerWidth - rw;\n          top.value = innerHeight - ty > rh ? ty : innerHeight - rh;\n        });\n      }\n    });\n\n    const clickHandler = (handler: string) => {\n      emit('clickItem', handler);\n    };\n    const close = () => {\n      emit('update:modelValue', false);\n    };\n    return () => (\n      <Teleport to=\"body\">\n        {\n          props.modelValue && <div style={{\n            backgroundColor: 'rgba(200, 200, 200, 0)',\n            position: 'absolute',\n            width: '100vw',\n            height: '100vh',\n            top: 0,\n            zIndex: 1001\n          }}\n            onClick={() => close()}\n          >\n            <ul\n              ref={menu}\n              style={{\n                left: left.value + 'px',\n                top: top.value + 'px',\n                margin: 0,\n                background: '#fff',\n                zIndex: 3000,\n                position: 'absolute',\n                listStyleType: 'none',\n                padding: '5px 0',\n                borderRadius: '4px',\n                fontSize: '12px',\n                fontWeight: 400,\n                color: '#333',\n                boxShadow: '2px 2px 3px 0 rgba(0, 0, 0, .3)'\n              }}\n            >\n              {\n                props.menuList.map((item, index) =>\n                  <li\n                    key={index + 'fdasjhe'}\n                    style={{\n                      margin: 0,\n                      padding: '7px 16px',\n                      cursor: 'pointer'\n                    }}\n                    onClick={(e) => { e.stopPropagation(); clickHandler(item.handlerName) }}\n                    onMouseover={(e) => (e.currentTarget as HTMLDivElement).style.background = '#eee'}\n                    onMouseleave={(e) => (e.currentTarget as HTMLDivElement).style.background = '#fff'}\n                  >\n                    {item.title}\n                  </li>\n                )\n              }\n            </ul>\n          </div>\n        }\n      </Teleport>\n    )\n  }\n});"],"names":["YoungCmdPopup","defineComponent","props","zIndex","type","Number","default","setup","expose","slots","showPopup","ref","show","value","hide","clickHide","e","composedPath","currentTarget","el","onKeyShow","ctrlKey","key","toLocaleLowerCase","preventDefault","nextTick","focus","onMounted","window","addEventListener","onUnmounted","removeEventListener","_createVNode","Teleport","display","backgroundColor","width","height","position","left","top","transform","maxHeight","overflow","borderRadius","border","padding","boxShadow","YoungTab","titleStyle","Object","activeStyle","String","required","inactiveStyle","titles","Array","activeIndex","_Fragment","justifyContent","map","title","index","YoungContextMenu","modelValue","Boolean","menuList","emits","emit","x","y","useMouse","menu","watch","newVal","oldVal","console","log","getComputedStyle","innerWidth","innerHeight","tx","ty","rw","parseFloat","rh","clickHandler","handler","close","margin","background","listStyleType","fontSize","fontWeight","color","item","cursor","stopPropagation","handlerName","style"],"mappings":"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"}