{"version":3,"file":"index.cjs.js","sources":["../src/components/YoungCmdPopup.tsx","../src/components/YoungTab.tsx","../src/components/YoungContextMenu.tsx"],"sourcesContent":["/*\n * @Author: zhangyang\n * @Date: 2022-12-07 10:40:28\n * @LastEditTime: 2022-12-07 12:22:27\n * @Description: \n */\nimport { defineComponent, ref, onMounted, onUnmounted, nextTick, Teleport } from 'vue';\n\nexport default defineComponent({\n  props: {\n    zIndex: {\n      type: Number,\n      default: 2000\n    }\n  },\n  setup(props, { expose, slots }) {\n    const showPopup = ref(false);\n\n    const show = () => showPopup.value = true;\n    const hide = () => showPopup.value = false;\n\n    const clickHide = (e: MouseEvent) => {\n      if (e.composedPath()[0] === e.currentTarget) {\n        hide();\n      }\n    };\n\n    expose({\n      show,\n      hide\n    });\n\n    const el = ref<HTMLInputElement>();\n\n    const onKeyShow = (e: KeyboardEvent) => {\n      if (e.ctrlKey && e.key.toLocaleLowerCase() === 'k') {\n        e.preventDefault();\n        if (!showPopup.value) {\n          show();\n          nextTick(() => {\n            el.value?.focus();\n          });\n        } else {\n          hide();\n        }\n      }\n    };\n\n    onMounted(() => {\n      window.addEventListener('keydown', onKeyShow);\n    });\n    onUnmounted(() => {\n      window.removeEventListener('keydown', onKeyShow);\n    });\n\n    return () => (\n      <Teleport to=\"body\">\n        <div onClick={(e) => clickHide(e)} style={{\n          display: showPopup.value ? 'block' : 'none',\n          backgroundColor: 'rgba(0, 0, 0, 0.6)',\n          width: '100vw',\n          height: '100vh',\n          position: 'absolute',\n          left: 0,\n          top: 0,\n          zIndex: props.zIndex\n        }}>\n          <div\n            style={{\n              position: 'relative',\n              left: '50%',\n              top: '50%',\n              transform: 'translate(-50%, -50%)',\n              width: 'min(600px, 70%)',\n              maxHeight: 'min(520px, 60%)',\n              overflow: 'auto',\n              borderRadius: '1rem',\n              border: '1px solid rgb(219, 234, 254)',\n              backgroundColor: 'white',\n              padding: '2rem',\n              boxShadow: 'rgba(0, 0, 0, 0) 0 0 0 0, rgba(0, 0, 0, 0) 0 0 0 0, 0 4px 6px -1px rgb(0 0 0/0.1), 0 2px 4px -2px rgb(0 0 0/0.1)'\n            }}\n          >\n            {\n              slots.default\n                ? slots.default({ el })\n                : <input ref={el} type=\"text\" />\n            }\n          </div>\n        </div>\n      </Teleport>\n    )\n  }\n})","/*\n * @Author: zhangyang\n * @Date: 2022-12-26 09:03:46\n * @LastEditTime: 2022-12-26 09:27:58\n * @Description: \n */\nimport { defineComponent, ref } from 'vue';\n\nexport default defineComponent({\n  props: {\n    titleStyle: {\n      type: Object,\n      default: () => ({})\n    },\n    activeStyle: {\n      type: [Object, String],\n      required: true\n    },\n    inactiveStyle: {\n      type: [Object, String],\n      required: true\n    },\n    titles: {\n      type: Array,\n      required: true\n    }\n  },\n  setup(props, { slots }) {\n    const activeIndex = ref(0);\n    return () => (\n      <>\n        <div style={{\n          display: 'flex',\n          width: '100%',\n          justifyContent: 'space-between',\n          ...props.titleStyle\n        }}>\n          {\n            props.titles.map((title, index) =>\n              <div\n                key={index + 'adjhskse'}\n                style={index === activeIndex.value ? props.activeStyle : props.inactiveStyle}\n                onClick={() => activeIndex.value = index}\n              >{title}</div>\n            )\n          }\n        </div>\n        {\n          slots[`index_${activeIndex.value}`]?.()\n        }\n      </>\n    )\n  }\n});","/*\n * @Author: zhangyang\n * @Date: 2023-01-05 15:01:31\n * @LastEditTime: 2023-01-05 15:14:17\n * @Description: \n */\nimport { defineComponent, Teleport, nextTick, ref, watch, type PropType } from 'vue';\nimport { useMouse } from '@vueuse/core';\n\ninterface ContextMenuItem {\n  handlerName: string;\n  title: string;\n};\n\nexport default defineComponent({\n  props: {\n    modelValue: {\n      type: Boolean,\n      required: true\n    },\n    menuList: {\n      type: Object as PropType<ContextMenuItem[]>,\n      required: true\n    }\n  },\n  emits: ['update:modelValue', 'clickItem'],\n  setup(props, { emit }) {\n    const { x, y } = useMouse();\n    const left = ref(0);\n    const top = ref(0);\n    const menu = ref();\n\n    watch(() => props.modelValue, (newVal, oldVal) => {\n      if (newVal && !oldVal) {\n        nextTick(() => {\n          console.log(menu.value)\n          const { width, height } = window.getComputedStyle(menu.value as HTMLElement);\n          const { innerWidth, innerHeight } = window;\n          // 此时鼠标的坐标\n          const tx = x.value;\n          const ty = y.value;\n          // 此时自定义菜单的宽高\n          const rw = parseFloat(width);\n          const rh = parseFloat(height);\n          // 处理边界值\n          left.value = innerWidth - tx > rw ? tx : innerWidth - rw;\n          top.value = innerHeight - ty > rh ? ty : innerHeight - rh;\n        });\n      }\n    });\n\n    const clickHandler = (handler: string) => {\n      emit('clickItem', handler);\n    };\n    const close = () => {\n      emit('update:modelValue', false);\n    };\n    return () => (\n      <Teleport to=\"body\">\n        {\n          props.modelValue && <div style={{\n            backgroundColor: 'rgba(200, 200, 200, 0)',\n            position: 'absolute',\n            width: '100vw',\n            height: '100vh',\n            top: 0,\n            zIndex: 1001\n          }}\n            onClick={() => close()}\n          >\n            <ul\n              ref={menu}\n              style={{\n                left: left.value + 'px',\n                top: top.value + 'px',\n                margin: 0,\n                background: '#fff',\n                zIndex: 3000,\n                position: 'absolute',\n                listStyleType: 'none',\n                padding: '5px 0',\n                borderRadius: '4px',\n                fontSize: '12px',\n                fontWeight: 400,\n                color: '#333',\n                boxShadow: '2px 2px 3px 0 rgba(0, 0, 0, .3)'\n              }}\n            >\n              {\n                props.menuList.map((item, index) =>\n                  <li\n                    key={index + 'fdasjhe'}\n                    style={{\n                      margin: 0,\n                      padding: '7px 16px',\n                      cursor: 'pointer'\n                    }}\n                    onClick={(e) => { e.stopPropagation(); clickHandler(item.handlerName) }}\n                    onMouseover={(e) => (e.currentTarget as HTMLDivElement).style.background = '#eee'}\n                    onMouseleave={(e) => (e.currentTarget as HTMLDivElement).style.background = '#fff'}\n                  >\n                    {item.title}\n                  </li>\n                )\n              }\n            </ul>\n          </div>\n        }\n      </Teleport>\n    )\n  }\n});"],"names":["YoungCmdPopup","defineComponent","props","zIndex","type","Number","default","setup","expose","slots","showPopup","ref","show","value","hide","clickHide","e","composedPath","currentTarget","el","onKeyShow","ctrlKey","key","toLocaleLowerCase","preventDefault","nextTick","focus","onMounted","window","addEventListener","onUnmounted","removeEventListener","_createVNode","Teleport","display","backgroundColor","width","height","position","left","top","transform","maxHeight","overflow","borderRadius","border","padding","boxShadow","YoungTab","titleStyle","Object","activeStyle","String","required","inactiveStyle","titles","Array","activeIndex","_Fragment","justifyContent","map","title","index","YoungContextMenu","modelValue","Boolean","menuList","emits","emit","x","y","useMouse","menu","watch","newVal","oldVal","console","log","getComputedStyle","innerWidth","innerHeight","tx","ty","rw","parseFloat","rh","clickHandler","handler","close","margin","background","listStyleType","fontSize","fontWeight","color","item","cursor","stopPropagation","handlerName","style"],"mappings":"6JAQAA,EAAeC,kBAAgB,CAC7BC,MAAO,CACLC,OAAQ,CACNC,KAAMC,OACNC,QAAS,GACX,CACD,EACDC,MAAML,EAAO,CAAEM,OAAAA,EAAQC,MAAAA,CAAM,EAAG,CAC9B,MAAMC,EAAYC,MAAI,EAAK,EAErBC,EAAO,IAAMF,EAAUG,MAAQ,GAC/BC,EAAO,IAAMJ,EAAUG,MAAQ,GAE/BE,EAAaC,GAAkB,CAC/BA,EAAEC,aAAc,EAAC,KAAOD,EAAEE,eAC5BJ,KAIJN,EAAO,CACLI,KAAAA,EACAE,KAAAA,CACF,CAAC,EAED,MAAMK,EAAKR,EAAAA,MAELS,EAAaJ,GAAqB,CAClCA,EAAEK,SAAWL,EAAEM,IAAIC,kBAAmB,IAAK,MAC7CP,EAAEQ,eAAc,EACXd,EAAUG,MAMbC,KALAF,IACAa,EAAAA,SAAS,IAAM,QACbN,EAAAA,EAAGN,QAAHM,MAAAA,EAAUO,OACZ,CAAC,KAOPC,OAAAA,EAAAA,UAAU,IAAM,CACdC,OAAOC,iBAAiB,UAAWT,CAAS,CAC9C,CAAC,EACDU,EAAAA,YAAY,IAAM,CAChBF,OAAOG,oBAAoB,UAAWX,CAAS,CACjD,CAAC,EAEM,IAAAY,EAAA,YAAAC,WAAA,CAAA,GACQ,MAAM,EAAA,CAAA,QAAA,IAAA,CAAAD,EAAA,YAAA,MAAA,CAAA,QACFhB,GAAMD,EAAUC,CAAC,EAAC,MAAS,CACxCkB,QAASxB,EAAUG,MAAQ,QAAU,OACrCsB,gBAAiB,qBACjBC,MAAO,QACPC,OAAQ,QACRC,SAAU,WACVC,KAAM,EACNC,IAAK,EACLrC,OAAQD,EAAMC,MAChB,CAAC,EAAA,CAAA6B,EAAA,YAAA,MAAA,CAAA,MAEU,CACLM,SAAU,WACVC,KAAM,MACNC,IAAK,MACLC,UAAW,wBACXL,MAAO,kBACPM,UAAW,kBACXC,SAAU,OACVC,aAAc,OACdC,OAAQ,+BACRV,gBAAiB,QACjBW,QAAS,OACTC,UAAW,kHACb,CAAC,EAAA,CAGCtC,EAAMH,QACFG,EAAMH,QAAQ,CAAEa,GAAAA,CAAG,CAAC,EAACa,EAAA,YAAA,QAAA,CAAA,IACTb,EAAE,KAAO,QAAS,IAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAK3C,CACH,CACF,CAAC,yGCrFD6B,EAAe/C,kBAAgB,CAC7BC,MAAO,CACL+C,WAAY,CACV7C,KAAM8C,OACN5C,QAAS,KAAO,CAAA,EACjB,EACD6C,YAAa,CACX/C,KAAM,CAAC8C,OAAQE,MAAM,EACrBC,SAAU,EACX,EACDC,cAAe,CACblD,KAAM,CAAC8C,OAAQE,MAAM,EACrBC,SAAU,EACX,EACDE,OAAQ,CACNnD,KAAMoD,MACNH,SAAU,EACZ,CACD,EACD9C,MAAML,EAAO,CAAEO,MAAAA,CAAM,EAAG,CACtB,MAAMgD,EAAc9C,MAAI,CAAC,EACzB,MAAO,IAAA,OAAAqB,OAAAA,EAAA,YAAA0B,EAAA,SAAA,KAAA,CAAA1B,EAAAA,YAAA,MAAA,CAAA,MAES,CACVE,QAAS,OACTE,MAAO,OACPuB,eAAgB,gBAChB,GAAGzD,EAAM+C,UACX,GAEI/C,CAAAA,EAAMqD,OAAOK,IAAI,CAACC,EAAOC,IAAK9B,EAAA,YAAA,MAAA,CAAA,IAErB8B,EAAQ,WAAU,MAChBA,IAAUL,EAAY5C,MAAQX,EAAMiD,YAAcjD,EAAMoD,cAAa,QACnE,IAAMG,EAAY5C,MAAQiD,CAAK,EAAA,CACxCD,CAAK,CAAA,CAAO,CACf,CAAA,GAIHpD,EAAAA,EAAO,SAAQgD,EAAY5C,WAA3BJ,YAAAA,EAAAA,KAAAA,EAAuC,CAG5C,EACH,CACF,CAAC,yGCvCDsD,EAAe9D,kBAAgB,CAC7BC,MAAO,CACL8D,WAAY,CACV5D,KAAM6D,QACNZ,SAAU,EACX,EACDa,SAAU,CACR9D,KAAM8C,OACNG,SAAU,EACZ,CACD,EACDc,MAAO,CAAC,oBAAqB,WAAW,EACxC5D,MAAML,EAAO,CAAEkE,KAAAA,CAAK,EAAG,CACrB,KAAM,CAAEC,EAAAA,EAAGC,EAAAA,CAAG,EAAGC,EAAQ,SAAA,EACnBhC,EAAO5B,MAAI,CAAC,EACZ6B,EAAM7B,MAAI,CAAC,EACX6D,EAAO7D,EAAAA,MAEb8D,EAAAA,MAAM,IAAMvE,EAAM8D,WAAY,CAACU,EAAQC,IAAW,CAC5CD,GAAU,CAACC,GACblD,EAAAA,SAAS,IAAM,CACbmD,QAAQC,IAAIL,EAAK3D,KAAK,EACtB,KAAM,CAAEuB,MAAAA,EAAOC,OAAAA,CAAQ,EAAGT,OAAOkD,iBAAiBN,EAAK3D,KAAK,EACtD,CAAEkE,WAAAA,EAAYC,YAAAA,CAAa,EAAGpD,OAE9BqD,EAAKZ,EAAExD,MACPqE,EAAKZ,EAAEzD,MAEPsE,EAAKC,WAAWhD,CAAK,EACrBiD,EAAKD,WAAW/C,CAAM,EAE5BE,EAAK1B,MAAQkE,EAAaE,EAAKE,EAAKF,EAAKF,EAAaI,EACtD3C,EAAI3B,MAAQmE,EAAcE,EAAKG,EAAKH,EAAKF,EAAcK,CACzD,CAAC,CAEL,CAAC,EAED,MAAMC,EAAgBC,GAAoB,CACxCnB,EAAK,YAAamB,CAAO,GAErBC,EAAQ,IAAM,CAClBpB,EAAK,oBAAqB,EAAK,GAEjC,MAAO,IAAApC,EAAA,YAAAC,WAAA,CAAA,GACQ,MAAM,EAAA,CAAA,QAEf/B,IAAAA,CAAAA,EAAM8D,YAAUhC,EAAAA,YAAA,MAAA,CAAA,MAAgB,CAC9BG,gBAAiB,yBACjBG,SAAU,WACVF,MAAO,QACPC,OAAQ,QACRG,IAAK,EACLrC,OAAQ,IACT,EAAA,QACU,IAAMqF,EAAK,CAAE,EAAA,CAAAxD,EAAA,YAAA,KAAA,CAAA,IAGfwC,EAAI,MACF,CACLjC,KAAMA,EAAK1B,MAAQ,KACnB2B,IAAKA,EAAI3B,MAAQ,KACjB4E,OAAQ,EACRC,WAAY,OACZvF,OAAQ,IACRmC,SAAU,WACVqD,cAAe,OACf7C,QAAS,QACTF,aAAc,MACdgD,SAAU,OACVC,WAAY,IACZC,MAAO,OACP/C,UAAW,iCACb,GAGE7C,CAAAA,EAAMgE,SAASN,IAAI,CAACmC,EAAMjC,IAAK9B,EAAA,YAAA,KAAA,CAAA,IAEtB8B,EAAQ,UAAS,MACf,CACL2B,OAAQ,EACR3C,QAAS,WACTkD,OAAQ,SACT,EAAA,QACShF,GAAM,CAAEA,EAAEiF,gBAAe,EAAIX,EAAaS,EAAKG,WAAW,CAAG,EAAA,YACzDlF,GAAOA,EAAEE,cAAiCiF,MAAMT,WAAa,OAAM,aAClE1E,GAAOA,EAAEE,cAAiCiF,MAAMT,WAAa,MAAM,EAAA,CAEjFK,EAAKlC,KAAK,CAAA,CACR,CACN,CAGD,CAAA,CAAA,CAAA,EAGX,CACH,CACF,CAAC"}